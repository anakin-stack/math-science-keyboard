{"ast":null,"code":"\"use strict\";\n\nconst idlUtils = require(\"../generated/utils.js\");\nconst DOMException = require(\"domexception\");\nconst {\n  DOCUMENT_POSITION_CONTAINS,\n  DOCUMENT_POSITION_CONTAINED_BY\n} = require(\"../node-document-position\");\nconst Element = require(\"../generated/Element\");\nconst Node = require(\"../generated/Node\");\nconst HTMLCollectionImpl = require(\"./HTMLCollection-impl\").implementation;\nexports.implementation = class HTMLOptionsCollectionImpl extends HTMLCollectionImpl {\n  // inherits supported property indices\n  get length() {\n    this._update();\n    return this._list.length;\n  }\n  set length(value) {\n    this._update();\n    if (value > this._list.length) {\n      const doc = this._element._ownerDocument;\n      for (let i = this._list.length; i < value; i++) {\n        const el = doc.createElement(\"option\");\n        this._element.appendChild(el);\n      }\n    } else if (value < this._list.length) {\n      for (let i = this._list.length - 1; i >= value; i--) {\n        const el = this._list[i];\n        this._element.removeChild(el);\n      }\n    }\n  }\n  get [idlUtils.supportedPropertyNames]() {\n    this._update();\n    const result = new Set();\n    for (const element of this._list) {\n      result.add(element.getAttribute(\"id\"));\n      result.add(element.getAttribute(\"name\"));\n    }\n    return result;\n  }\n  [idlUtils.indexedSetNew](index, value) {\n    if (value === null) {\n      this.remove(index);\n      return;\n    }\n    this._update();\n    const {\n      length\n    } = this._list;\n    const n = index - length;\n    if (n > 0) {\n      const doc = this._element._ownerDocument;\n      const frag = doc.createDocumentFragment();\n      // Spec says n - 1, but n seems to be the right number here.\n      for (let i = 0; i < n; i++) {\n        const el = doc.createElement(\"option\");\n        frag.appendChild(el);\n      }\n      this._element.appendChild(frag);\n    }\n    if (n >= 0) {\n      this._element.appendChild(value);\n    } else {\n      this._element.replaceChild(value, this._list[index]);\n    }\n  }\n  [idlUtils.indexedSetExisting](index, value) {\n    return this[idlUtils.indexedSetNew](index, value);\n  }\n  add(element, before) {\n    if (this._element.compareDocumentPosition(element) & DOCUMENT_POSITION_CONTAINS) {\n      throw new DOMException(\"The operation would yield an incorrect node tree.\", \"HierarchyRequestError\");\n    }\n    if (Element.isImpl(before) && !(this._element.compareDocumentPosition(before) & DOCUMENT_POSITION_CONTAINED_BY)) {\n      throw new DOMException(\"The object can not be found here.\", \"NotFoundError\");\n    }\n    if (element === before) {\n      return;\n    }\n    let reference = null;\n    if (Node.isImpl(before)) {\n      reference = before;\n    } else if (typeof before === \"number\") {\n      this._update();\n      reference = this._list[before] || null;\n    }\n    const parent = reference !== null ? reference.parentNode : this._element;\n    parent.insertBefore(element, reference);\n  }\n  remove(index) {\n    this._update();\n    if (this._list.length === 0) {\n      return;\n    }\n    if (index < 0 || index >= this._list.length) {\n      return;\n    }\n    const element = this._list[index];\n    element.parentNode.removeChild(element);\n  }\n  get selectedIndex() {\n    return this._element.selectedIndex;\n  }\n  set selectedIndex(value) {\n    this._element.selectedIndex = value;\n  }\n};","map":{"version":3,"names":["idlUtils","require","DOMException","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_CONTAINED_BY","Element","Node","HTMLCollectionImpl","implementation","exports","HTMLOptionsCollectionImpl","length","_update","_list","value","doc","_element","_ownerDocument","i","el","createElement","appendChild","removeChild","supportedPropertyNames","result","Set","element","add","getAttribute","indexedSetNew","index","remove","n","frag","createDocumentFragment","replaceChild","indexedSetExisting","before","compareDocumentPosition","isImpl","reference","parent","parentNode","insertBefore","selectedIndex"],"sources":["G:/scientificKeyboard/keyboard/node_modules/mathjax-node/node_modules/jsdom/lib/jsdom/living/nodes/HTMLOptionsCollection-impl.js"],"sourcesContent":["\"use strict\";\n\nconst idlUtils = require(\"../generated/utils.js\");\nconst DOMException = require(\"domexception\");\nconst { DOCUMENT_POSITION_CONTAINS, DOCUMENT_POSITION_CONTAINED_BY } = require(\"../node-document-position\");\nconst Element = require(\"../generated/Element\");\nconst Node = require(\"../generated/Node\");\nconst HTMLCollectionImpl = require(\"./HTMLCollection-impl\").implementation;\n\nexports.implementation = class HTMLOptionsCollectionImpl extends HTMLCollectionImpl {\n  // inherits supported property indices\n  get length() {\n    this._update();\n    return this._list.length;\n  }\n  set length(value) {\n    this._update();\n    if (value > this._list.length) {\n      const doc = this._element._ownerDocument;\n      for (let i = this._list.length; i < value; i++) {\n        const el = doc.createElement(\"option\");\n        this._element.appendChild(el);\n      }\n    } else if (value < this._list.length) {\n      for (let i = this._list.length - 1; i >= value; i--) {\n        const el = this._list[i];\n        this._element.removeChild(el);\n      }\n    }\n  }\n\n  get [idlUtils.supportedPropertyNames]() {\n    this._update();\n    const result = new Set();\n    for (const element of this._list) {\n      result.add(element.getAttribute(\"id\"));\n      result.add(element.getAttribute(\"name\"));\n    }\n    return result;\n  }\n  [idlUtils.indexedSetNew](index, value) {\n    if (value === null) {\n      this.remove(index);\n      return;\n    }\n    this._update();\n    const { length } = this._list;\n    const n = index - length;\n    if (n > 0) {\n      const doc = this._element._ownerDocument;\n      const frag = doc.createDocumentFragment();\n      // Spec says n - 1, but n seems to be the right number here.\n      for (let i = 0; i < n; i++) {\n        const el = doc.createElement(\"option\");\n        frag.appendChild(el);\n      }\n      this._element.appendChild(frag);\n    }\n    if (n >= 0) {\n      this._element.appendChild(value);\n    } else {\n      this._element.replaceChild(value, this._list[index]);\n    }\n  }\n  [idlUtils.indexedSetExisting](index, value) {\n    return this[idlUtils.indexedSetNew](index, value);\n  }\n  add(element, before) {\n    if (this._element.compareDocumentPosition(element) & DOCUMENT_POSITION_CONTAINS) {\n      throw new DOMException(\"The operation would yield an incorrect node tree.\", \"HierarchyRequestError\");\n    }\n    if (Element.isImpl(before) && !(this._element.compareDocumentPosition(before) & DOCUMENT_POSITION_CONTAINED_BY)) {\n      throw new DOMException(\"The object can not be found here.\", \"NotFoundError\");\n    }\n    if (element === before) {\n      return;\n    }\n\n    let reference = null;\n    if (Node.isImpl(before)) {\n      reference = before;\n    } else if (typeof before === \"number\") {\n      this._update();\n      reference = this._list[before] || null;\n    }\n\n    const parent = reference !== null ? reference.parentNode : this._element;\n    parent.insertBefore(element, reference);\n  }\n  remove(index) {\n    this._update();\n    if (this._list.length === 0) {\n      return;\n    }\n    if (index < 0 || index >= this._list.length) {\n      return;\n    }\n    const element = this._list[index];\n    element.parentNode.removeChild(element);\n  }\n  get selectedIndex() {\n    return this._element.selectedIndex;\n  }\n  set selectedIndex(value) {\n    this._element.selectedIndex = value;\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}