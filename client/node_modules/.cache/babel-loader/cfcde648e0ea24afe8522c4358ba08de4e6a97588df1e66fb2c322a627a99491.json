{"ast":null,"code":"/*********************************************************************\n * These are commonly used parsers for CSS Values they take a string *\n * to parse and return a string after it's been converted, if needed *\n ********************************************************************/\n'use strict';\n\nconst namedColors = require('./named_colors.json');\nexports.TYPES = {\n  INTEGER: 1,\n  NUMBER: 2,\n  LENGTH: 3,\n  PERCENT: 4,\n  URL: 5,\n  COLOR: 6,\n  STRING: 7,\n  ANGLE: 8,\n  KEYWORD: 9,\n  NULL_OR_EMPTY_STR: 10\n};\n\n// rough regular expressions\nvar integerRegEx = /^[-+]?[0-9]+$/;\nvar numberRegEx = /^[-+]?[0-9]*\\.[0-9]+$/;\nvar lengthRegEx = /^(0|[-+]?[0-9]*\\.?[0-9]+(in|cm|em|mm|pt|pc|px|ex|rem|vh|vw))$/;\nvar percentRegEx = /^[-+]?[0-9]*\\.?[0-9]+%$/;\nvar urlRegEx = /^url\\(\\s*([^)]*)\\s*\\)$/;\nvar stringRegEx = /^(\"[^\"]*\"|'[^']*')$/;\nvar colorRegEx1 = /^#[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]([0-9a-fA-F][0-9a-fA-F][0-9a-fA-F])?$/;\nvar colorRegEx2 = /^rgb\\(([^)]*)\\)$/;\nvar colorRegEx3 = /^rgba\\(([^)]*)\\)$/;\nvar colorRegEx4 = /^hsla?\\(\\s*(-?\\d+|-?\\d*.\\d+)\\s*,\\s*(-?\\d+|-?\\d*.\\d+)%\\s*,\\s*(-?\\d+|-?\\d*.\\d+)%\\s*(,\\s*(-?\\d+|-?\\d*.\\d+)\\s*)?\\)/;\nvar angleRegEx = /^([-+]?[0-9]*\\.?[0-9]+)(deg|grad|rad)$/;\n\n// This will return one of the above types based on the passed in string\nexports.valueType = function valueType(val) {\n  if (val === '' || val === null) {\n    return exports.TYPES.NULL_OR_EMPTY_STR;\n  }\n  if (typeof val === 'number') {\n    val = val.toString();\n  }\n  if (typeof val !== 'string') {\n    return undefined;\n  }\n  if (integerRegEx.test(val)) {\n    return exports.TYPES.INTEGER;\n  }\n  if (numberRegEx.test(val)) {\n    return exports.TYPES.NUMBER;\n  }\n  if (lengthRegEx.test(val)) {\n    return exports.TYPES.LENGTH;\n  }\n  if (percentRegEx.test(val)) {\n    return exports.TYPES.PERCENT;\n  }\n  if (urlRegEx.test(val)) {\n    return exports.TYPES.URL;\n  }\n  if (stringRegEx.test(val)) {\n    return exports.TYPES.STRING;\n  }\n  if (angleRegEx.test(val)) {\n    return exports.TYPES.ANGLE;\n  }\n  if (colorRegEx1.test(val)) {\n    return exports.TYPES.COLOR;\n  }\n  var res = colorRegEx2.exec(val);\n  var parts;\n  if (res !== null) {\n    parts = res[1].split(/\\s*,\\s*/);\n    if (parts.length !== 3) {\n      return undefined;\n    }\n    if (parts.every(percentRegEx.test.bind(percentRegEx)) || parts.every(integerRegEx.test.bind(integerRegEx))) {\n      return exports.TYPES.COLOR;\n    }\n    return undefined;\n  }\n  res = colorRegEx3.exec(val);\n  if (res !== null) {\n    parts = res[1].split(/\\s*,\\s*/);\n    if (parts.length !== 4) {\n      return undefined;\n    }\n    if (parts.slice(0, 3).every(percentRegEx.test.bind(percentRegEx)) || parts.every(integerRegEx.test.bind(integerRegEx))) {\n      if (numberRegEx.test(parts[3])) {\n        return exports.TYPES.COLOR;\n      }\n    }\n    return undefined;\n  }\n  if (colorRegEx4.test(val)) {\n    return exports.TYPES.COLOR;\n  }\n\n  // could still be a color, one of the standard keyword colors\n  val = val.toLowerCase();\n  if (namedColors.includes(val)) {\n    return exports.TYPES.COLOR;\n  }\n  switch (val) {\n    // the following are deprecated in CSS3\n    case 'activeborder':\n    case 'activecaption':\n    case 'appworkspace':\n    case 'background':\n    case 'buttonface':\n    case 'buttonhighlight':\n    case 'buttonshadow':\n    case 'buttontext':\n    case 'captiontext':\n    case 'graytext':\n    case 'highlight':\n    case 'highlighttext':\n    case 'inactiveborder':\n    case 'inactivecaption':\n    case 'inactivecaptiontext':\n    case 'infobackground':\n    case 'infotext':\n    case 'menu':\n    case 'menutext':\n    case 'scrollbar':\n    case 'threeddarkshadow':\n    case 'threedface':\n    case 'threedhighlight':\n    case 'threedlightshadow':\n    case 'threedshadow':\n    case 'window':\n    case 'windowframe':\n    case 'windowtext':\n      return exports.TYPES.COLOR;\n    default:\n      return exports.TYPES.KEYWORD;\n  }\n};\nexports.parseInteger = function parseInteger(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.INTEGER) {\n    return undefined;\n  }\n  return String(parseInt(val, 10));\n};\nexports.parseNumber = function parseNumber(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.NUMBER && type !== exports.TYPES.INTEGER) {\n    return undefined;\n  }\n  return String(parseFloat(val));\n};\nexports.parseLength = function parseLength(val) {\n  if (val === 0 || val === '0') {\n    return '0px';\n  }\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.LENGTH) {\n    return undefined;\n  }\n  return val;\n};\nexports.parsePercent = function parsePercent(val) {\n  if (val === 0 || val === '0') {\n    return '0%';\n  }\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.PERCENT) {\n    return undefined;\n  }\n  return val;\n};\n\n// either a length or a percent\nexports.parseMeasurement = function parseMeasurement(val) {\n  var length = exports.parseLength(val);\n  if (length !== undefined) {\n    return length;\n  }\n  return exports.parsePercent(val);\n};\nexports.parseUrl = function parseUrl(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  var res = urlRegEx.exec(val);\n  // does it match the regex?\n  if (!res) {\n    return undefined;\n  }\n  var str = res[1];\n  // if it starts with single or double quotes, does it end with the same?\n  if ((str[0] === '\"' || str[0] === \"'\") && str[0] !== str[str.length - 1]) {\n    return undefined;\n  }\n  if (str[0] === '\"' || str[0] === \"'\") {\n    str = str.substr(1, str.length - 2);\n  }\n  var i;\n  for (i = 0; i < str.length; i++) {\n    switch (str[i]) {\n      case '(':\n      case ')':\n      case ' ':\n      case '\\t':\n      case '\\n':\n      case \"'\":\n      case '\"':\n        return undefined;\n      case '\\\\':\n        i++;\n        break;\n    }\n  }\n  return 'url(' + str + ')';\n};\nexports.parseString = function parseString(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.STRING) {\n    return undefined;\n  }\n  var i;\n  for (i = 1; i < val.length - 1; i++) {\n    switch (val[i]) {\n      case val[0]:\n        return undefined;\n      case '\\\\':\n        i++;\n        while (i < val.length - 1 && /[0-9A-Fa-f]/.test(val[i])) {\n          i++;\n        }\n        break;\n    }\n  }\n  if (i >= val.length) {\n    return undefined;\n  }\n  return val;\n};\nexports.parseColor = function parseColor(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  var red,\n    green,\n    blue,\n    hue,\n    saturation,\n    lightness,\n    alpha = 1;\n  var parts;\n  var res = colorRegEx1.exec(val);\n  // is it #aaa or #ababab\n  if (res) {\n    var hex = val.substr(1);\n    if (hex.length === 3) {\n      hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n    }\n    red = parseInt(hex.substr(0, 2), 16);\n    green = parseInt(hex.substr(2, 2), 16);\n    blue = parseInt(hex.substr(4, 2), 16);\n    return 'rgb(' + red + ', ' + green + ', ' + blue + ')';\n  }\n  res = colorRegEx2.exec(val);\n  if (res) {\n    parts = res[1].split(/\\s*,\\s*/);\n    if (parts.length !== 3) {\n      return undefined;\n    }\n    if (parts.every(percentRegEx.test.bind(percentRegEx))) {\n      red = Math.floor(parseFloat(parts[0].slice(0, -1)) * 255 / 100);\n      green = Math.floor(parseFloat(parts[1].slice(0, -1)) * 255 / 100);\n      blue = Math.floor(parseFloat(parts[2].slice(0, -1)) * 255 / 100);\n    } else if (parts.every(integerRegEx.test.bind(integerRegEx))) {\n      red = parseInt(parts[0], 10);\n      green = parseInt(parts[1], 10);\n      blue = parseInt(parts[2], 10);\n    } else {\n      return undefined;\n    }\n    red = Math.min(255, Math.max(0, red));\n    green = Math.min(255, Math.max(0, green));\n    blue = Math.min(255, Math.max(0, blue));\n    return 'rgb(' + red + ', ' + green + ', ' + blue + ')';\n  }\n  res = colorRegEx3.exec(val);\n  if (res) {\n    parts = res[1].split(/\\s*,\\s*/);\n    if (parts.length !== 4) {\n      return undefined;\n    }\n    if (parts.slice(0, 3).every(percentRegEx.test.bind(percentRegEx))) {\n      red = Math.floor(parseFloat(parts[0].slice(0, -1)) * 255 / 100);\n      green = Math.floor(parseFloat(parts[1].slice(0, -1)) * 255 / 100);\n      blue = Math.floor(parseFloat(parts[2].slice(0, -1)) * 255 / 100);\n      alpha = parseFloat(parts[3]);\n    } else if (parts.slice(0, 3).every(integerRegEx.test.bind(integerRegEx))) {\n      red = parseInt(parts[0], 10);\n      green = parseInt(parts[1], 10);\n      blue = parseInt(parts[2], 10);\n      alpha = parseFloat(parts[3]);\n    } else {\n      return undefined;\n    }\n    if (isNaN(alpha)) {\n      alpha = 1;\n    }\n    red = Math.min(255, Math.max(0, red));\n    green = Math.min(255, Math.max(0, green));\n    blue = Math.min(255, Math.max(0, blue));\n    alpha = Math.min(1, Math.max(0, alpha));\n    if (alpha === 1) {\n      return 'rgb(' + red + ', ' + green + ', ' + blue + ')';\n    }\n    return 'rgba(' + red + ', ' + green + ', ' + blue + ', ' + alpha + ')';\n  }\n  res = colorRegEx4.exec(val);\n  if (res) {\n    const [, _hue, _saturation, _lightness, _alphaString = ''] = res;\n    const _alpha = parseFloat(_alphaString.replace(',', '').trim());\n    if (!_hue || !_saturation || !_lightness) {\n      return undefined;\n    }\n    hue = parseFloat(_hue);\n    saturation = parseInt(_saturation, 10);\n    lightness = parseInt(_lightness, 10);\n    if (_alpha && numberRegEx.test(_alpha)) {\n      alpha = parseFloat(_alpha);\n    }\n    if (!_alphaString || alpha === 1) {\n      return 'hsl(' + hue + ', ' + saturation + '%, ' + lightness + '%)';\n    }\n    return 'hsla(' + hue + ', ' + saturation + '%, ' + lightness + '%, ' + alpha + ')';\n  }\n  if (type === exports.TYPES.COLOR) {\n    return val;\n  }\n  return undefined;\n};\nexports.parseAngle = function parseAngle(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.ANGLE) {\n    return undefined;\n  }\n  var res = angleRegEx.exec(val);\n  var flt = parseFloat(res[1]);\n  if (res[2] === 'rad') {\n    flt *= 180 / Math.PI;\n  } else if (res[2] === 'grad') {\n    flt *= 360 / 400;\n  }\n  while (flt < 0) {\n    flt += 360;\n  }\n  while (flt > 360) {\n    flt -= 360;\n  }\n  return flt + 'deg';\n};\nexports.parseKeyword = function parseKeyword(val, valid_keywords) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.KEYWORD) {\n    return undefined;\n  }\n  val = val.toString().toLowerCase();\n  var i;\n  for (i = 0; i < valid_keywords.length; i++) {\n    if (valid_keywords[i].toLowerCase() === val) {\n      return valid_keywords[i];\n    }\n  }\n  return undefined;\n};\n\n// utility to translate from border-width to borderWidth\nvar dashedToCamelCase = function (dashed) {\n  var i;\n  var camel = '';\n  var nextCap = false;\n  for (i = 0; i < dashed.length; i++) {\n    if (dashed[i] !== '-') {\n      camel += nextCap ? dashed[i].toUpperCase() : dashed[i];\n      nextCap = false;\n    } else {\n      nextCap = true;\n    }\n  }\n  return camel;\n};\nexports.dashedToCamelCase = dashedToCamelCase;\nvar is_space = /\\s/;\nvar opening_deliminators = ['\"', \"'\", '('];\nvar closing_deliminators = ['\"', \"'\", ')'];\n// this splits on whitespace, but keeps quoted and parened parts together\nvar getParts = function (str) {\n  var deliminator_stack = [];\n  var length = str.length;\n  var i;\n  var parts = [];\n  var current_part = '';\n  var opening_index;\n  var closing_index;\n  for (i = 0; i < length; i++) {\n    opening_index = opening_deliminators.indexOf(str[i]);\n    closing_index = closing_deliminators.indexOf(str[i]);\n    if (is_space.test(str[i])) {\n      if (deliminator_stack.length === 0) {\n        if (current_part !== '') {\n          parts.push(current_part);\n        }\n        current_part = '';\n      } else {\n        current_part += str[i];\n      }\n    } else {\n      if (str[i] === '\\\\') {\n        i++;\n        current_part += str[i];\n      } else {\n        current_part += str[i];\n        if (closing_index !== -1 && closing_index === deliminator_stack[deliminator_stack.length - 1]) {\n          deliminator_stack.pop();\n        } else if (opening_index !== -1) {\n          deliminator_stack.push(opening_index);\n        }\n      }\n    }\n  }\n  if (current_part !== '') {\n    parts.push(current_part);\n  }\n  return parts;\n};\n\n/*\n * this either returns undefined meaning that it isn't valid\n * or returns an object where the keys are dashed short\n * hand properties and the values are the values to set\n * on them\n */\nexports.shorthandParser = function parse(v, shorthand_for) {\n  var obj = {};\n  var type = exports.valueType(v);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    Object.keys(shorthand_for).forEach(function (property) {\n      obj[property] = '';\n    });\n    return obj;\n  }\n  if (typeof v === 'number') {\n    v = v.toString();\n  }\n  if (typeof v !== 'string') {\n    return undefined;\n  }\n  if (v.toLowerCase() === 'inherit') {\n    return {};\n  }\n  var parts = getParts(v);\n  var valid = true;\n  parts.forEach(function (part, i) {\n    var part_valid = false;\n    Object.keys(shorthand_for).forEach(function (property) {\n      if (shorthand_for[property].isValid(part, i)) {\n        part_valid = true;\n        obj[property] = part;\n      }\n    });\n    valid = valid && part_valid;\n  });\n  if (!valid) {\n    return undefined;\n  }\n  return obj;\n};\nexports.shorthandSetter = function (property, shorthand_for) {\n  return function (v) {\n    var obj = exports.shorthandParser(v, shorthand_for);\n    if (obj === undefined) {\n      return;\n    }\n    //console.log('shorthandSetter for:', property, 'obj:', obj);\n    Object.keys(obj).forEach(function (subprop) {\n      // in case subprop is an implicit property, this will clear\n      // *its* subpropertiesX\n      var camel = dashedToCamelCase(subprop);\n      this[camel] = obj[subprop];\n      // in case it gets translated into something else (0 -> 0px)\n      obj[subprop] = this[camel];\n      this.removeProperty(subprop);\n      // don't add in empty properties\n      if (obj[subprop] !== '') {\n        this._values[subprop] = obj[subprop];\n      }\n    }, this);\n    Object.keys(shorthand_for).forEach(function (subprop) {\n      if (!obj.hasOwnProperty(subprop)) {\n        this.removeProperty(subprop);\n        delete this._values[subprop];\n      }\n    }, this);\n    // in case the value is something like 'none' that removes all values,\n    // check that the generated one is not empty, first remove the property\n    // if it already exists, then call the shorthandGetter, if it's an empty\n    // string, don't set the property\n    this.removeProperty(property);\n    var calculated = exports.shorthandGetter(property, shorthand_for).call(this);\n    if (calculated !== '') {\n      this._setProperty(property, calculated);\n    }\n  };\n};\nexports.shorthandGetter = function (property, shorthand_for) {\n  return function () {\n    if (this._values[property] !== undefined) {\n      return this.getPropertyValue(property);\n    }\n    return Object.keys(shorthand_for).map(function (subprop) {\n      return this.getPropertyValue(subprop);\n    }, this).filter(function (value) {\n      return value !== '';\n    }).join(' ');\n  };\n};\n\n// isValid(){1,4} | inherit\n// if one, it applies to all\n// if two, the first applies to the top and bottom, and the second to left and right\n// if three, the first applies to the top, the second to left and right, the third bottom\n// if four, top, right, bottom, left\nexports.implicitSetter = function (property_before, property_after, isValid, parser) {\n  property_after = property_after || '';\n  if (property_after !== '') {\n    property_after = '-' + property_after;\n  }\n  var part_names = ['top', 'right', 'bottom', 'left'];\n  return function (v) {\n    if (typeof v === 'number') {\n      v = v.toString();\n    }\n    if (typeof v !== 'string') {\n      return undefined;\n    }\n    var parts;\n    if (v.toLowerCase() === 'inherit' || v === '') {\n      parts = [v];\n    } else {\n      parts = getParts(v);\n    }\n    if (parts.length < 1 || parts.length > 4) {\n      return undefined;\n    }\n    if (!parts.every(isValid)) {\n      return undefined;\n    }\n    parts = parts.map(function (part) {\n      return parser(part);\n    });\n    this._setProperty(property_before + property_after, parts.join(' '));\n    if (parts.length === 1) {\n      parts[1] = parts[0];\n    }\n    if (parts.length === 2) {\n      parts[2] = parts[0];\n    }\n    if (parts.length === 3) {\n      parts[3] = parts[1];\n    }\n    for (var i = 0; i < 4; i++) {\n      var property = property_before + '-' + part_names[i] + property_after;\n      this.removeProperty(property);\n      if (parts[i] !== '') {\n        this._values[property] = parts[i];\n      }\n    }\n    return v;\n  };\n};\n\n//\n//  Companion to implicitSetter, but for the individual parts.\n//  This sets the individual value, and checks to see if all four\n//  sub-parts are set.  If so, it sets the shorthand version and removes\n//  the individual parts from the cssText.\n//\nexports.subImplicitSetter = function (prefix, part, isValid, parser) {\n  var property = prefix + '-' + part;\n  var subparts = [prefix + '-top', prefix + '-right', prefix + '-bottom', prefix + '-left'];\n  return function (v) {\n    if (typeof v === 'number') {\n      v = v.toString();\n    }\n    if (typeof v !== 'string') {\n      return undefined;\n    }\n    if (!isValid(v)) {\n      return undefined;\n    }\n    v = parser(v);\n    this._setProperty(property, v);\n    var parts = [];\n    for (var i = 0; i < 4; i++) {\n      if (this._values[subparts[i]] == null || this._values[subparts[i]] === '') {\n        break;\n      }\n      parts.push(this._values[subparts[i]]);\n    }\n    if (parts.length === 4) {\n      for (i = 0; i < 4; i++) {\n        this.removeProperty(subparts[i]);\n        this._values[subparts[i]] = parts[i];\n      }\n      this._setProperty(prefix, parts.join(' '));\n    }\n    return v;\n  };\n};\nvar camel_to_dashed = /[A-Z]/g;\nvar first_segment = /^\\([^-]\\)-/;\nvar vendor_prefixes = ['o', 'moz', 'ms', 'webkit'];\nexports.camelToDashed = function (camel_case) {\n  var match;\n  var dashed = camel_case.replace(camel_to_dashed, '-$&').toLowerCase();\n  match = dashed.match(first_segment);\n  if (match && vendor_prefixes.indexOf(match[1]) !== -1) {\n    dashed = '-' + dashed;\n  }\n  return dashed;\n};","map":{"version":3,"names":["namedColors","require","exports","TYPES","INTEGER","NUMBER","LENGTH","PERCENT","URL","COLOR","STRING","ANGLE","KEYWORD","NULL_OR_EMPTY_STR","integerRegEx","numberRegEx","lengthRegEx","percentRegEx","urlRegEx","stringRegEx","colorRegEx1","colorRegEx2","colorRegEx3","colorRegEx4","angleRegEx","valueType","val","toString","undefined","test","res","exec","parts","split","length","every","bind","slice","toLowerCase","includes","parseInteger","type","String","parseInt","parseNumber","parseFloat","parseLength","parsePercent","parseMeasurement","parseUrl","str","substr","i","parseString","parseColor","red","green","blue","hue","saturation","lightness","alpha","hex","Math","floor","min","max","isNaN","_hue","_saturation","_lightness","_alphaString","_alpha","replace","trim","parseAngle","flt","PI","parseKeyword","valid_keywords","dashedToCamelCase","dashed","camel","nextCap","toUpperCase","is_space","opening_deliminators","closing_deliminators","getParts","deliminator_stack","current_part","opening_index","closing_index","indexOf","push","pop","shorthandParser","parse","v","shorthand_for","obj","Object","keys","forEach","property","valid","part","part_valid","isValid","shorthandSetter","subprop","removeProperty","_values","hasOwnProperty","calculated","shorthandGetter","call","_setProperty","getPropertyValue","map","filter","value","join","implicitSetter","property_before","property_after","parser","part_names","subImplicitSetter","prefix","subparts","camel_to_dashed","first_segment","vendor_prefixes","camelToDashed","camel_case","match"],"sources":["G:/scientificKeyboard/keyboard/node_modules/mathjax-node/node_modules/cssstyle/lib/parsers.js"],"sourcesContent":["/*********************************************************************\n * These are commonly used parsers for CSS Values they take a string *\n * to parse and return a string after it's been converted, if needed *\n ********************************************************************/\n'use strict';\n\nconst namedColors = require('./named_colors.json');\n\nexports.TYPES = {\n  INTEGER: 1,\n  NUMBER: 2,\n  LENGTH: 3,\n  PERCENT: 4,\n  URL: 5,\n  COLOR: 6,\n  STRING: 7,\n  ANGLE: 8,\n  KEYWORD: 9,\n  NULL_OR_EMPTY_STR: 10,\n};\n\n// rough regular expressions\nvar integerRegEx = /^[-+]?[0-9]+$/;\nvar numberRegEx = /^[-+]?[0-9]*\\.[0-9]+$/;\nvar lengthRegEx = /^(0|[-+]?[0-9]*\\.?[0-9]+(in|cm|em|mm|pt|pc|px|ex|rem|vh|vw))$/;\nvar percentRegEx = /^[-+]?[0-9]*\\.?[0-9]+%$/;\nvar urlRegEx = /^url\\(\\s*([^)]*)\\s*\\)$/;\nvar stringRegEx = /^(\"[^\"]*\"|'[^']*')$/;\nvar colorRegEx1 = /^#[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]([0-9a-fA-F][0-9a-fA-F][0-9a-fA-F])?$/;\nvar colorRegEx2 = /^rgb\\(([^)]*)\\)$/;\nvar colorRegEx3 = /^rgba\\(([^)]*)\\)$/;\nvar colorRegEx4 = /^hsla?\\(\\s*(-?\\d+|-?\\d*.\\d+)\\s*,\\s*(-?\\d+|-?\\d*.\\d+)%\\s*,\\s*(-?\\d+|-?\\d*.\\d+)%\\s*(,\\s*(-?\\d+|-?\\d*.\\d+)\\s*)?\\)/;\nvar angleRegEx = /^([-+]?[0-9]*\\.?[0-9]+)(deg|grad|rad)$/;\n\n// This will return one of the above types based on the passed in string\nexports.valueType = function valueType(val) {\n  if (val === '' || val === null) {\n    return exports.TYPES.NULL_OR_EMPTY_STR;\n  }\n  if (typeof val === 'number') {\n    val = val.toString();\n  }\n\n  if (typeof val !== 'string') {\n    return undefined;\n  }\n\n  if (integerRegEx.test(val)) {\n    return exports.TYPES.INTEGER;\n  }\n  if (numberRegEx.test(val)) {\n    return exports.TYPES.NUMBER;\n  }\n  if (lengthRegEx.test(val)) {\n    return exports.TYPES.LENGTH;\n  }\n  if (percentRegEx.test(val)) {\n    return exports.TYPES.PERCENT;\n  }\n  if (urlRegEx.test(val)) {\n    return exports.TYPES.URL;\n  }\n  if (stringRegEx.test(val)) {\n    return exports.TYPES.STRING;\n  }\n  if (angleRegEx.test(val)) {\n    return exports.TYPES.ANGLE;\n  }\n  if (colorRegEx1.test(val)) {\n    return exports.TYPES.COLOR;\n  }\n  var res = colorRegEx2.exec(val);\n  var parts;\n  if (res !== null) {\n    parts = res[1].split(/\\s*,\\s*/);\n    if (parts.length !== 3) {\n      return undefined;\n    }\n    if (\n      parts.every(percentRegEx.test.bind(percentRegEx)) ||\n      parts.every(integerRegEx.test.bind(integerRegEx))\n    ) {\n      return exports.TYPES.COLOR;\n    }\n    return undefined;\n  }\n  res = colorRegEx3.exec(val);\n  if (res !== null) {\n    parts = res[1].split(/\\s*,\\s*/);\n    if (parts.length !== 4) {\n      return undefined;\n    }\n    if (\n      parts.slice(0, 3).every(percentRegEx.test.bind(percentRegEx)) ||\n      parts.every(integerRegEx.test.bind(integerRegEx))\n    ) {\n      if (numberRegEx.test(parts[3])) {\n        return exports.TYPES.COLOR;\n      }\n    }\n    return undefined;\n  }\n\n  if (colorRegEx4.test(val)) {\n    return exports.TYPES.COLOR;\n  }\n\n  // could still be a color, one of the standard keyword colors\n  val = val.toLowerCase();\n\n  if (namedColors.includes(val)) {\n    return exports.TYPES.COLOR;\n  }\n\n  switch (val) {\n    // the following are deprecated in CSS3\n    case 'activeborder':\n    case 'activecaption':\n    case 'appworkspace':\n    case 'background':\n    case 'buttonface':\n    case 'buttonhighlight':\n    case 'buttonshadow':\n    case 'buttontext':\n    case 'captiontext':\n    case 'graytext':\n    case 'highlight':\n    case 'highlighttext':\n    case 'inactiveborder':\n    case 'inactivecaption':\n    case 'inactivecaptiontext':\n    case 'infobackground':\n    case 'infotext':\n    case 'menu':\n    case 'menutext':\n    case 'scrollbar':\n    case 'threeddarkshadow':\n    case 'threedface':\n    case 'threedhighlight':\n    case 'threedlightshadow':\n    case 'threedshadow':\n    case 'window':\n    case 'windowframe':\n    case 'windowtext':\n      return exports.TYPES.COLOR;\n    default:\n      return exports.TYPES.KEYWORD;\n  }\n};\n\nexports.parseInteger = function parseInteger(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.INTEGER) {\n    return undefined;\n  }\n  return String(parseInt(val, 10));\n};\n\nexports.parseNumber = function parseNumber(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.NUMBER && type !== exports.TYPES.INTEGER) {\n    return undefined;\n  }\n  return String(parseFloat(val));\n};\n\nexports.parseLength = function parseLength(val) {\n  if (val === 0 || val === '0') {\n    return '0px';\n  }\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.LENGTH) {\n    return undefined;\n  }\n  return val;\n};\n\nexports.parsePercent = function parsePercent(val) {\n  if (val === 0 || val === '0') {\n    return '0%';\n  }\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.PERCENT) {\n    return undefined;\n  }\n  return val;\n};\n\n// either a length or a percent\nexports.parseMeasurement = function parseMeasurement(val) {\n  var length = exports.parseLength(val);\n  if (length !== undefined) {\n    return length;\n  }\n  return exports.parsePercent(val);\n};\n\nexports.parseUrl = function parseUrl(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  var res = urlRegEx.exec(val);\n  // does it match the regex?\n  if (!res) {\n    return undefined;\n  }\n  var str = res[1];\n  // if it starts with single or double quotes, does it end with the same?\n  if ((str[0] === '\"' || str[0] === \"'\") && str[0] !== str[str.length - 1]) {\n    return undefined;\n  }\n  if (str[0] === '\"' || str[0] === \"'\") {\n    str = str.substr(1, str.length - 2);\n  }\n\n  var i;\n  for (i = 0; i < str.length; i++) {\n    switch (str[i]) {\n      case '(':\n      case ')':\n      case ' ':\n      case '\\t':\n      case '\\n':\n      case \"'\":\n      case '\"':\n        return undefined;\n      case '\\\\':\n        i++;\n        break;\n    }\n  }\n\n  return 'url(' + str + ')';\n};\n\nexports.parseString = function parseString(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.STRING) {\n    return undefined;\n  }\n  var i;\n  for (i = 1; i < val.length - 1; i++) {\n    switch (val[i]) {\n      case val[0]:\n        return undefined;\n      case '\\\\':\n        i++;\n        while (i < val.length - 1 && /[0-9A-Fa-f]/.test(val[i])) {\n          i++;\n        }\n        break;\n    }\n  }\n  if (i >= val.length) {\n    return undefined;\n  }\n  return val;\n};\n\nexports.parseColor = function parseColor(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  var red,\n    green,\n    blue,\n    hue,\n    saturation,\n    lightness,\n    alpha = 1;\n  var parts;\n  var res = colorRegEx1.exec(val);\n  // is it #aaa or #ababab\n  if (res) {\n    var hex = val.substr(1);\n    if (hex.length === 3) {\n      hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n    }\n    red = parseInt(hex.substr(0, 2), 16);\n    green = parseInt(hex.substr(2, 2), 16);\n    blue = parseInt(hex.substr(4, 2), 16);\n    return 'rgb(' + red + ', ' + green + ', ' + blue + ')';\n  }\n\n  res = colorRegEx2.exec(val);\n  if (res) {\n    parts = res[1].split(/\\s*,\\s*/);\n    if (parts.length !== 3) {\n      return undefined;\n    }\n    if (parts.every(percentRegEx.test.bind(percentRegEx))) {\n      red = Math.floor((parseFloat(parts[0].slice(0, -1)) * 255) / 100);\n      green = Math.floor((parseFloat(parts[1].slice(0, -1)) * 255) / 100);\n      blue = Math.floor((parseFloat(parts[2].slice(0, -1)) * 255) / 100);\n    } else if (parts.every(integerRegEx.test.bind(integerRegEx))) {\n      red = parseInt(parts[0], 10);\n      green = parseInt(parts[1], 10);\n      blue = parseInt(parts[2], 10);\n    } else {\n      return undefined;\n    }\n    red = Math.min(255, Math.max(0, red));\n    green = Math.min(255, Math.max(0, green));\n    blue = Math.min(255, Math.max(0, blue));\n    return 'rgb(' + red + ', ' + green + ', ' + blue + ')';\n  }\n\n  res = colorRegEx3.exec(val);\n  if (res) {\n    parts = res[1].split(/\\s*,\\s*/);\n    if (parts.length !== 4) {\n      return undefined;\n    }\n    if (parts.slice(0, 3).every(percentRegEx.test.bind(percentRegEx))) {\n      red = Math.floor((parseFloat(parts[0].slice(0, -1)) * 255) / 100);\n      green = Math.floor((parseFloat(parts[1].slice(0, -1)) * 255) / 100);\n      blue = Math.floor((parseFloat(parts[2].slice(0, -1)) * 255) / 100);\n      alpha = parseFloat(parts[3]);\n    } else if (parts.slice(0, 3).every(integerRegEx.test.bind(integerRegEx))) {\n      red = parseInt(parts[0], 10);\n      green = parseInt(parts[1], 10);\n      blue = parseInt(parts[2], 10);\n      alpha = parseFloat(parts[3]);\n    } else {\n      return undefined;\n    }\n    if (isNaN(alpha)) {\n      alpha = 1;\n    }\n    red = Math.min(255, Math.max(0, red));\n    green = Math.min(255, Math.max(0, green));\n    blue = Math.min(255, Math.max(0, blue));\n    alpha = Math.min(1, Math.max(0, alpha));\n    if (alpha === 1) {\n      return 'rgb(' + red + ', ' + green + ', ' + blue + ')';\n    }\n    return 'rgba(' + red + ', ' + green + ', ' + blue + ', ' + alpha + ')';\n  }\n\n  res = colorRegEx4.exec(val);\n  if (res) {\n    const [, _hue, _saturation, _lightness, _alphaString = ''] = res;\n    const _alpha = parseFloat(_alphaString.replace(',', '').trim());\n    if (!_hue || !_saturation || !_lightness) {\n      return undefined;\n    }\n    hue = parseFloat(_hue);\n    saturation = parseInt(_saturation, 10);\n    lightness = parseInt(_lightness, 10);\n    if (_alpha && numberRegEx.test(_alpha)) {\n      alpha = parseFloat(_alpha);\n    }\n    if (!_alphaString || alpha === 1) {\n      return 'hsl(' + hue + ', ' + saturation + '%, ' + lightness + '%)';\n    }\n    return 'hsla(' + hue + ', ' + saturation + '%, ' + lightness + '%, ' + alpha + ')';\n  }\n\n  if (type === exports.TYPES.COLOR) {\n    return val;\n  }\n  return undefined;\n};\n\nexports.parseAngle = function parseAngle(val) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.ANGLE) {\n    return undefined;\n  }\n  var res = angleRegEx.exec(val);\n  var flt = parseFloat(res[1]);\n  if (res[2] === 'rad') {\n    flt *= 180 / Math.PI;\n  } else if (res[2] === 'grad') {\n    flt *= 360 / 400;\n  }\n\n  while (flt < 0) {\n    flt += 360;\n  }\n  while (flt > 360) {\n    flt -= 360;\n  }\n  return flt + 'deg';\n};\n\nexports.parseKeyword = function parseKeyword(val, valid_keywords) {\n  var type = exports.valueType(val);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    return val;\n  }\n  if (type !== exports.TYPES.KEYWORD) {\n    return undefined;\n  }\n  val = val.toString().toLowerCase();\n  var i;\n  for (i = 0; i < valid_keywords.length; i++) {\n    if (valid_keywords[i].toLowerCase() === val) {\n      return valid_keywords[i];\n    }\n  }\n  return undefined;\n};\n\n// utility to translate from border-width to borderWidth\nvar dashedToCamelCase = function(dashed) {\n  var i;\n  var camel = '';\n  var nextCap = false;\n  for (i = 0; i < dashed.length; i++) {\n    if (dashed[i] !== '-') {\n      camel += nextCap ? dashed[i].toUpperCase() : dashed[i];\n      nextCap = false;\n    } else {\n      nextCap = true;\n    }\n  }\n  return camel;\n};\nexports.dashedToCamelCase = dashedToCamelCase;\n\nvar is_space = /\\s/;\nvar opening_deliminators = ['\"', \"'\", '('];\nvar closing_deliminators = ['\"', \"'\", ')'];\n// this splits on whitespace, but keeps quoted and parened parts together\nvar getParts = function(str) {\n  var deliminator_stack = [];\n  var length = str.length;\n  var i;\n  var parts = [];\n  var current_part = '';\n  var opening_index;\n  var closing_index;\n  for (i = 0; i < length; i++) {\n    opening_index = opening_deliminators.indexOf(str[i]);\n    closing_index = closing_deliminators.indexOf(str[i]);\n    if (is_space.test(str[i])) {\n      if (deliminator_stack.length === 0) {\n        if (current_part !== '') {\n          parts.push(current_part);\n        }\n        current_part = '';\n      } else {\n        current_part += str[i];\n      }\n    } else {\n      if (str[i] === '\\\\') {\n        i++;\n        current_part += str[i];\n      } else {\n        current_part += str[i];\n        if (\n          closing_index !== -1 &&\n          closing_index === deliminator_stack[deliminator_stack.length - 1]\n        ) {\n          deliminator_stack.pop();\n        } else if (opening_index !== -1) {\n          deliminator_stack.push(opening_index);\n        }\n      }\n    }\n  }\n  if (current_part !== '') {\n    parts.push(current_part);\n  }\n  return parts;\n};\n\n/*\n * this either returns undefined meaning that it isn't valid\n * or returns an object where the keys are dashed short\n * hand properties and the values are the values to set\n * on them\n */\nexports.shorthandParser = function parse(v, shorthand_for) {\n  var obj = {};\n  var type = exports.valueType(v);\n  if (type === exports.TYPES.NULL_OR_EMPTY_STR) {\n    Object.keys(shorthand_for).forEach(function(property) {\n      obj[property] = '';\n    });\n    return obj;\n  }\n\n  if (typeof v === 'number') {\n    v = v.toString();\n  }\n\n  if (typeof v !== 'string') {\n    return undefined;\n  }\n\n  if (v.toLowerCase() === 'inherit') {\n    return {};\n  }\n  var parts = getParts(v);\n  var valid = true;\n  parts.forEach(function(part, i) {\n    var part_valid = false;\n    Object.keys(shorthand_for).forEach(function(property) {\n      if (shorthand_for[property].isValid(part, i)) {\n        part_valid = true;\n        obj[property] = part;\n      }\n    });\n    valid = valid && part_valid;\n  });\n  if (!valid) {\n    return undefined;\n  }\n  return obj;\n};\n\nexports.shorthandSetter = function(property, shorthand_for) {\n  return function(v) {\n    var obj = exports.shorthandParser(v, shorthand_for);\n    if (obj === undefined) {\n      return;\n    }\n    //console.log('shorthandSetter for:', property, 'obj:', obj);\n    Object.keys(obj).forEach(function(subprop) {\n      // in case subprop is an implicit property, this will clear\n      // *its* subpropertiesX\n      var camel = dashedToCamelCase(subprop);\n      this[camel] = obj[subprop];\n      // in case it gets translated into something else (0 -> 0px)\n      obj[subprop] = this[camel];\n      this.removeProperty(subprop);\n      // don't add in empty properties\n      if (obj[subprop] !== '') {\n        this._values[subprop] = obj[subprop];\n      }\n    }, this);\n    Object.keys(shorthand_for).forEach(function(subprop) {\n      if (!obj.hasOwnProperty(subprop)) {\n        this.removeProperty(subprop);\n        delete this._values[subprop];\n      }\n    }, this);\n    // in case the value is something like 'none' that removes all values,\n    // check that the generated one is not empty, first remove the property\n    // if it already exists, then call the shorthandGetter, if it's an empty\n    // string, don't set the property\n    this.removeProperty(property);\n    var calculated = exports.shorthandGetter(property, shorthand_for).call(this);\n    if (calculated !== '') {\n      this._setProperty(property, calculated);\n    }\n  };\n};\n\nexports.shorthandGetter = function(property, shorthand_for) {\n  return function() {\n    if (this._values[property] !== undefined) {\n      return this.getPropertyValue(property);\n    }\n    return Object.keys(shorthand_for)\n      .map(function(subprop) {\n        return this.getPropertyValue(subprop);\n      }, this)\n      .filter(function(value) {\n        return value !== '';\n      })\n      .join(' ');\n  };\n};\n\n// isValid(){1,4} | inherit\n// if one, it applies to all\n// if two, the first applies to the top and bottom, and the second to left and right\n// if three, the first applies to the top, the second to left and right, the third bottom\n// if four, top, right, bottom, left\nexports.implicitSetter = function(property_before, property_after, isValid, parser) {\n  property_after = property_after || '';\n  if (property_after !== '') {\n    property_after = '-' + property_after;\n  }\n  var part_names = ['top', 'right', 'bottom', 'left'];\n\n  return function(v) {\n    if (typeof v === 'number') {\n      v = v.toString();\n    }\n    if (typeof v !== 'string') {\n      return undefined;\n    }\n    var parts;\n    if (v.toLowerCase() === 'inherit' || v === '') {\n      parts = [v];\n    } else {\n      parts = getParts(v);\n    }\n    if (parts.length < 1 || parts.length > 4) {\n      return undefined;\n    }\n\n    if (!parts.every(isValid)) {\n      return undefined;\n    }\n\n    parts = parts.map(function(part) {\n      return parser(part);\n    });\n    this._setProperty(property_before + property_after, parts.join(' '));\n    if (parts.length === 1) {\n      parts[1] = parts[0];\n    }\n    if (parts.length === 2) {\n      parts[2] = parts[0];\n    }\n    if (parts.length === 3) {\n      parts[3] = parts[1];\n    }\n\n    for (var i = 0; i < 4; i++) {\n      var property = property_before + '-' + part_names[i] + property_after;\n      this.removeProperty(property);\n      if (parts[i] !== '') {\n        this._values[property] = parts[i];\n      }\n    }\n    return v;\n  };\n};\n\n//\n//  Companion to implicitSetter, but for the individual parts.\n//  This sets the individual value, and checks to see if all four\n//  sub-parts are set.  If so, it sets the shorthand version and removes\n//  the individual parts from the cssText.\n//\nexports.subImplicitSetter = function(prefix, part, isValid, parser) {\n  var property = prefix + '-' + part;\n  var subparts = [prefix + '-top', prefix + '-right', prefix + '-bottom', prefix + '-left'];\n\n  return function(v) {\n    if (typeof v === 'number') {\n      v = v.toString();\n    }\n    if (typeof v !== 'string') {\n      return undefined;\n    }\n    if (!isValid(v)) {\n      return undefined;\n    }\n    v = parser(v);\n    this._setProperty(property, v);\n    var parts = [];\n    for (var i = 0; i < 4; i++) {\n      if (this._values[subparts[i]] == null || this._values[subparts[i]] === '') {\n        break;\n      }\n      parts.push(this._values[subparts[i]]);\n    }\n    if (parts.length === 4) {\n      for (i = 0; i < 4; i++) {\n        this.removeProperty(subparts[i]);\n        this._values[subparts[i]] = parts[i];\n      }\n      this._setProperty(prefix, parts.join(' '));\n    }\n    return v;\n  };\n};\n\nvar camel_to_dashed = /[A-Z]/g;\nvar first_segment = /^\\([^-]\\)-/;\nvar vendor_prefixes = ['o', 'moz', 'ms', 'webkit'];\nexports.camelToDashed = function(camel_case) {\n  var match;\n  var dashed = camel_case.replace(camel_to_dashed, '-$&').toLowerCase();\n  match = dashed.match(first_segment);\n  if (match && vendor_prefixes.indexOf(match[1]) !== -1) {\n    dashed = '-' + dashed;\n  }\n  return dashed;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}