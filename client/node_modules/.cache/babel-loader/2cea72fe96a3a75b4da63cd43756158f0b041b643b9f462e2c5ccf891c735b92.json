{"ast":null,"code":"\"use strict\";\n\nconst DOMException = require(\"domexception\");\nconst idlUtils = require(\"../generated/utils\");\nconst conversions = require(\"webidl-conversions\");\n\n// TODO: Once NodeFilter is ported to IDL method, use those instead.\nexports.FILTER_ACCEPT = 1; // NodeFilter.FILTER_ACCEPT\nexports.FILTER_REJECT = 2; // NodeFilter.FILTER_REJECT\nexports.FILTER_SKIP = 3; // NodeFilter.FILTER_SKIP\n\nexports.filter = (nodeIteratorOrTreeWalkerImpl, nodeImpl) => {\n  if (nodeIteratorOrTreeWalkerImpl._active) {\n    throw new DOMException(\"Recursive node filtering\", \"InvalidStateError\");\n  }\n  const n = nodeImpl.nodeType - 1;\n  if (!(1 << n & nodeIteratorOrTreeWalkerImpl.whatToShow)) {\n    return exports.FILTER_SKIP;\n  }\n\n  // Saving in a variable is important so we don't accidentally call it as a method later.\n  const {\n    filter\n  } = nodeIteratorOrTreeWalkerImpl;\n  if (filter === null) {\n    return exports.FILTER_ACCEPT;\n  }\n  nodeIteratorOrTreeWalkerImpl._active = true;\n  let result;\n\n  // https://github.com/whatwg/dom/issues/494\n  try {\n    if (typeof filter === \"function\") {\n      result = filter(idlUtils.wrapperForImpl(nodeImpl));\n    } else {\n      result = filter.acceptNode(idlUtils.wrapperForImpl(nodeImpl));\n    }\n  } finally {\n    nodeIteratorOrTreeWalkerImpl._active = false;\n  }\n  result = conversions[\"unsigned short\"](result);\n  return result;\n};","map":{"version":3,"names":["DOMException","require","idlUtils","conversions","exports","FILTER_ACCEPT","FILTER_REJECT","FILTER_SKIP","filter","nodeIteratorOrTreeWalkerImpl","nodeImpl","_active","n","nodeType","whatToShow","result","wrapperForImpl","acceptNode"],"sources":["G:/scientificKeyboard/keyboard/node_modules/mathjax-node/node_modules/jsdom/lib/jsdom/living/traversal/helpers.js"],"sourcesContent":["\"use strict\";\nconst DOMException = require(\"domexception\");\nconst idlUtils = require(\"../generated/utils\");\nconst conversions = require(\"webidl-conversions\");\n\n// TODO: Once NodeFilter is ported to IDL method, use those instead.\nexports.FILTER_ACCEPT = 1; // NodeFilter.FILTER_ACCEPT\nexports.FILTER_REJECT = 2; // NodeFilter.FILTER_REJECT\nexports.FILTER_SKIP = 3; // NodeFilter.FILTER_SKIP\n\nexports.filter = (nodeIteratorOrTreeWalkerImpl, nodeImpl) => {\n  if (nodeIteratorOrTreeWalkerImpl._active) {\n    throw new DOMException(\"Recursive node filtering\", \"InvalidStateError\");\n  }\n\n  const n = nodeImpl.nodeType - 1;\n\n  if (!((1 << n) & nodeIteratorOrTreeWalkerImpl.whatToShow)) {\n    return exports.FILTER_SKIP;\n  }\n\n  // Saving in a variable is important so we don't accidentally call it as a method later.\n  const { filter } = nodeIteratorOrTreeWalkerImpl;\n\n  if (filter === null) {\n    return exports.FILTER_ACCEPT;\n  }\n\n  nodeIteratorOrTreeWalkerImpl._active = true;\n\n  let result;\n\n  // https://github.com/whatwg/dom/issues/494\n  try {\n    if (typeof filter === \"function\") {\n      result = filter(idlUtils.wrapperForImpl(nodeImpl));\n    } else {\n      result = filter.acceptNode(idlUtils.wrapperForImpl(nodeImpl));\n    }\n  } finally {\n    nodeIteratorOrTreeWalkerImpl._active = false;\n  }\n\n  result = conversions[\"unsigned short\"](result);\n\n  return result;\n};\n"],"mappings":"AAAA,YAAY;;AACZ,MAAMA,YAAY,GAAGC,OAAO,CAAC,cAAc,CAAC;AAC5C,MAAMC,QAAQ,GAAGD,OAAO,CAAC,oBAAoB,CAAC;AAC9C,MAAME,WAAW,GAAGF,OAAO,CAAC,oBAAoB,CAAC;;AAEjD;AACAG,OAAO,CAACC,aAAa,GAAG,CAAC,CAAC,CAAC;AAC3BD,OAAO,CAACE,aAAa,GAAG,CAAC,CAAC,CAAC;AAC3BF,OAAO,CAACG,WAAW,GAAG,CAAC,CAAC,CAAC;;AAEzBH,OAAO,CAACI,MAAM,GAAG,CAACC,4BAA4B,EAAEC,QAAQ,KAAK;EAC3D,IAAID,4BAA4B,CAACE,OAAO,EAAE;IACxC,MAAM,IAAIX,YAAY,CAAC,0BAA0B,EAAE,mBAAmB,CAAC;EACzE;EAEA,MAAMY,CAAC,GAAGF,QAAQ,CAACG,QAAQ,GAAG,CAAC;EAE/B,IAAI,EAAG,CAAC,IAAID,CAAC,GAAIH,4BAA4B,CAACK,UAAU,CAAC,EAAE;IACzD,OAAOV,OAAO,CAACG,WAAW;EAC5B;;EAEA;EACA,MAAM;IAAEC;EAAO,CAAC,GAAGC,4BAA4B;EAE/C,IAAID,MAAM,KAAK,IAAI,EAAE;IACnB,OAAOJ,OAAO,CAACC,aAAa;EAC9B;EAEAI,4BAA4B,CAACE,OAAO,GAAG,IAAI;EAE3C,IAAII,MAAM;;EAEV;EACA,IAAI;IACF,IAAI,OAAOP,MAAM,KAAK,UAAU,EAAE;MAChCO,MAAM,GAAGP,MAAM,CAACN,QAAQ,CAACc,cAAc,CAACN,QAAQ,CAAC,CAAC;IACpD,CAAC,MAAM;MACLK,MAAM,GAAGP,MAAM,CAACS,UAAU,CAACf,QAAQ,CAACc,cAAc,CAACN,QAAQ,CAAC,CAAC;IAC/D;EACF,CAAC,SAAS;IACRD,4BAA4B,CAACE,OAAO,GAAG,KAAK;EAC9C;EAEAI,MAAM,GAAGZ,WAAW,CAAC,gBAAgB,CAAC,CAACY,MAAM,CAAC;EAE9C,OAAOA,MAAM;AACf,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}