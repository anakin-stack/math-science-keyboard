{"ast":null,"code":"//\n//  We need to load cssstyle's parsers.js, but its location differs\n//  between node 4 and node 5, so check which one we have.\n//\n\nvar PARSERS = 'cssstyle/lib/parsers.js';\n\n//\n//  Patch for CSSStyleDeclaration lengthRegEx so that it includes ex units\n//  (plus a number of other units that are left out)\n//  \nvar FixValueType = function () {\n  var parsers = require(PARSERS);\n  var integerRegEx = /^[\\-+]?[0-9]+$/;\n  var numberRegEx = /^[\\-+]?[0-9]*\\.[0-9]+$/;\n  var lengthRegEx = /^(0|[\\-+]?[0-9]*\\.?[0-9]+(in|cm|mm|pt|pc|px|em|ex|ch|rem|vh|vw|vmin|vmax))$/;\n  var percentRegEx = /^[\\-+]?[0-9]*\\.?[0-9]+%$/;\n  var urlRegEx = /^url\\(\\s*([^\\)]*)\\s*\\)$/;\n  var stringRegEx = /^(\\\"[^\\\"]*\\\"|\\'[^\\']*\\')$/;\n  var colorRegEx1 = /^#[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]([0-9a-fA-F][0-9a-fA-F][0-9a-fA-F])?$/;\n  var colorRegEx2 = /^rgb\\(([^\\)]*)\\)$/;\n  var colorRegEx3 = /^rgba\\(([^\\)]*)\\)$/;\n  var angleRegEx = /^([\\-+]?[0-9]*\\.?[0-9]+)(deg|grad|rad)$/;\n  parsers.valueType = function valueType(val) {\n    var TYPES = parsers.TYPES;\n    if (val === '' || val === null) return TYPES.NULL_OR_EMPTY_STR;\n    if (typeof val === 'number') val = val.toString();\n    if (typeof val !== 'string') return undefined;\n    if (integerRegEx.test(val)) return TYPES.INTEGER;\n    if (numberRegEx.test(val)) return TYPES.NUMBER;\n    if (lengthRegEx.test(val)) return TYPES.LENGTH;\n    if (percentRegEx.test(val)) return TYPES.PERCENT;\n    if (urlRegEx.test(val)) return TYPES.URL;\n    if (stringRegEx.test(val)) return TYPES.STRING;\n    if (angleRegEx.test(val)) return TYPES.ANGLE;\n    if (colorRegEx1.test(val)) return TYPES.COLOR;\n    var res = colorRegEx2.exec(val);\n    var parts;\n    if (res !== null) {\n      parts = res[1].split(/\\s*,\\s*/);\n      if (parts.length !== 3) return undefined;\n      if (parts.every(percentRegEx.test.bind(percentRegEx)) || parts.every(integerRegEx.test.bind(integerRegEx))) return TYPES.COLOR;\n      return undefined;\n    }\n    res = colorRegEx3.exec(val);\n    if (res !== null) {\n      parts = res[1].split(/\\s*,\\s*/);\n      if (parts.length !== 4) return undefined;\n      if (parts.slice(0, 3).every(percentRegEx.test.bind(percentRegEx)) || parts.every(integerRegEx.test.bind(integerRegEx))) {\n        if (numberRegEx.test(parts[3])) return TYPES.COLOR;\n      }\n      return undefined;\n    }\n    val = val.toLowerCase();\n    switch (val) {\n      case 'maroon':\n      case 'red':\n      case 'orange':\n      case 'yellow':\n      case 'olive':\n      case 'purple':\n      case 'fuchsia':\n      case 'white':\n      case 'lime':\n      case 'green':\n      case 'navy':\n      case 'blue':\n      case 'aqua':\n      case 'teal':\n      case 'black':\n      case 'silver':\n      case 'gray':\n      // the following are deprecated in CSS3\n      case 'activeborder':\n      case 'activecaption':\n      case 'appworkspace':\n      case 'background':\n      case 'buttonface':\n      case 'buttonhighlight':\n      case 'buttonshadow':\n      case 'buttontext':\n      case 'captiontext':\n      case 'graytext':\n      case 'highlight':\n      case 'highlighttext':\n      case 'inactiveborder':\n      case 'inactivecaption':\n      case 'inactivecaptiontext':\n      case 'infobackground':\n      case 'infotext':\n      case 'menu':\n      case 'menutext':\n      case 'scrollbar':\n      case 'threeddarkshadow':\n      case 'threedface':\n      case 'threedhighlight':\n      case 'threedlightshadow':\n      case 'threedshadow':\n      case 'window':\n      case 'windowframe':\n      case 'windowtext':\n        return TYPES.COLOR;\n      default:\n        return TYPES.KEYWORD;\n    }\n  };\n};\n\n//\n//  Patch jsdom functions\n//\nexports.patch = function (JSDOM) {\n  var window = new JSDOM('').window;\n  var document = window.document;\n  var div = document.createElement(\"div\");\n\n  //\n  //  Check if units of ex are allowed\n  //\n  div.style.marginTop = \"3ex\";\n  if (div.style.marginTop !== \"3ex\") FixValueType();\n};","map":{"version":3,"names":["PARSERS","FixValueType","parsers","require","integerRegEx","numberRegEx","lengthRegEx","percentRegEx","urlRegEx","stringRegEx","colorRegEx1","colorRegEx2","colorRegEx3","angleRegEx","valueType","val","TYPES","NULL_OR_EMPTY_STR","toString","undefined","test","INTEGER","NUMBER","LENGTH","PERCENT","URL","STRING","ANGLE","COLOR","res","exec","parts","split","length","every","bind","slice","toLowerCase","KEYWORD","exports","patch","JSDOM","window","document","div","createElement","style","marginTop"],"sources":["G:/scientificKeyboard/keyboard/node_modules/mathjax-node/lib/patch/jsdom.js"],"sourcesContent":["//\n//  We need to load cssstyle's parsers.js, but its location differs\n//  between node 4 and node 5, so check which one we have.\n//\n\nvar PARSERS = 'cssstyle/lib/parsers.js';\n\n//\n//  Patch for CSSStyleDeclaration lengthRegEx so that it includes ex units\n//  (plus a number of other units that are left out)\n//  \nvar FixValueType = function () {\n  var parsers = require(PARSERS);\n  \n  var integerRegEx = /^[\\-+]?[0-9]+$/;\n  var numberRegEx = /^[\\-+]?[0-9]*\\.[0-9]+$/;\n  var lengthRegEx = /^(0|[\\-+]?[0-9]*\\.?[0-9]+(in|cm|mm|pt|pc|px|em|ex|ch|rem|vh|vw|vmin|vmax))$/;\n  var percentRegEx = /^[\\-+]?[0-9]*\\.?[0-9]+%$/;\n  var urlRegEx = /^url\\(\\s*([^\\)]*)\\s*\\)$/;\n  var stringRegEx = /^(\\\"[^\\\"]*\\\"|\\'[^\\']*\\')$/;\n  var colorRegEx1 = /^#[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]([0-9a-fA-F][0-9a-fA-F][0-9a-fA-F])?$/;\n  var colorRegEx2 = /^rgb\\(([^\\)]*)\\)$/;\n  var colorRegEx3 = /^rgba\\(([^\\)]*)\\)$/;\n  var angleRegEx = /^([\\-+]?[0-9]*\\.?[0-9]+)(deg|grad|rad)$/;\n\n  parsers.valueType = function valueType(val) {\n    var TYPES = parsers.TYPES;\n    if (val === '' || val === null) return TYPES.NULL_OR_EMPTY_STR;\n    if (typeof val === 'number') val = val.toString();\n    if (typeof val !== 'string') return undefined;\n\n    if (integerRegEx.test(val)) return TYPES.INTEGER;\n    if (numberRegEx.test(val))  return TYPES.NUMBER;\n    if (lengthRegEx.test(val))  return TYPES.LENGTH;\n    if (percentRegEx.test(val)) return TYPES.PERCENT;\n    if (urlRegEx.test(val))     return TYPES.URL;\n    if (stringRegEx.test(val))  return TYPES.STRING;\n    if (angleRegEx.test(val))   return TYPES.ANGLE;\n    if (colorRegEx1.test(val))  return TYPES.COLOR;\n    var res = colorRegEx2.exec(val);\n    var parts;\n    if (res !== null) {\n      parts = res[1].split(/\\s*,\\s*/);\n      if (parts.length !== 3) return undefined;\n      if (parts.every(percentRegEx.test.bind(percentRegEx)) ||\n          parts.every(integerRegEx.test.bind(integerRegEx))) return TYPES.COLOR;\n      return undefined;\n    }\n    res = colorRegEx3.exec(val);\n    if (res !== null) {\n      parts = res[1].split(/\\s*,\\s*/);\n      if (parts.length !== 4) return undefined;\n      if (parts.slice(0, 3).every(percentRegEx.test.bind(percentRegEx)) ||\n          parts.every(integerRegEx.test.bind(integerRegEx))) {\n        if (numberRegEx.test(parts[3])) return TYPES.COLOR;\n      }\n      return undefined;\n    }\n    val = val.toLowerCase();\n    switch (val) {\n     case 'maroon':\n     case 'red':\n     case 'orange':\n     case 'yellow':\n     case 'olive':\n     case 'purple':\n     case 'fuchsia':\n     case 'white':\n     case 'lime':\n     case 'green':\n     case 'navy':\n     case 'blue':\n     case 'aqua':\n     case 'teal':\n     case 'black':\n     case 'silver':\n     case 'gray':\n      // the following are deprecated in CSS3\n     case 'activeborder':\n     case 'activecaption':\n     case 'appworkspace':\n     case 'background':\n     case 'buttonface':\n     case 'buttonhighlight':\n     case 'buttonshadow':\n     case 'buttontext':\n     case 'captiontext':\n     case 'graytext':\n     case 'highlight':\n     case 'highlighttext':\n     case 'inactiveborder':\n     case 'inactivecaption':\n     case 'inactivecaptiontext':\n     case 'infobackground':\n     case 'infotext':\n     case 'menu':\n     case 'menutext':\n     case 'scrollbar':\n     case 'threeddarkshadow':\n     case 'threedface':\n     case 'threedhighlight':\n     case 'threedlightshadow':\n     case 'threedshadow':\n     case 'window':\n     case 'windowframe':\n     case 'windowtext':\n      return TYPES.COLOR;\n     default:\n      return TYPES.KEYWORD;\n    }\n  };\n}\n\n\n//\n//  Patch jsdom functions\n//\nexports.patch = function (JSDOM) {\n  var window = new JSDOM('').window;\n  var document = window.document;\n\n  var div = document.createElement(\"div\");\n\n  //\n  //  Check if units of ex are allowed\n  //\n  div.style.marginTop = \"3ex\";\n  if (div.style.marginTop !== \"3ex\") FixValueType();\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,IAAIA,OAAO,GAAG,yBAAyB;;AAEvC;AACA;AACA;AACA;AACA,IAAIC,YAAY,GAAG,SAAAA,CAAA,EAAY;EAC7B,IAAIC,OAAO,GAAGC,OAAO,CAACH,OAAO,CAAC;EAE9B,IAAII,YAAY,GAAG,gBAAgB;EACnC,IAAIC,WAAW,GAAG,wBAAwB;EAC1C,IAAIC,WAAW,GAAG,6EAA6E;EAC/F,IAAIC,YAAY,GAAG,0BAA0B;EAC7C,IAAIC,QAAQ,GAAG,yBAAyB;EACxC,IAAIC,WAAW,GAAG,2BAA2B;EAC7C,IAAIC,WAAW,GAAG,0EAA0E;EAC5F,IAAIC,WAAW,GAAG,mBAAmB;EACrC,IAAIC,WAAW,GAAG,oBAAoB;EACtC,IAAIC,UAAU,GAAG,yCAAyC;EAE1DX,OAAO,CAACY,SAAS,GAAG,SAASA,SAASA,CAACC,GAAG,EAAE;IAC1C,IAAIC,KAAK,GAAGd,OAAO,CAACc,KAAK;IACzB,IAAID,GAAG,KAAK,EAAE,IAAIA,GAAG,KAAK,IAAI,EAAE,OAAOC,KAAK,CAACC,iBAAiB;IAC9D,IAAI,OAAOF,GAAG,KAAK,QAAQ,EAAEA,GAAG,GAAGA,GAAG,CAACG,QAAQ,CAAC,CAAC;IACjD,IAAI,OAAOH,GAAG,KAAK,QAAQ,EAAE,OAAOI,SAAS;IAE7C,IAAIf,YAAY,CAACgB,IAAI,CAACL,GAAG,CAAC,EAAE,OAAOC,KAAK,CAACK,OAAO;IAChD,IAAIhB,WAAW,CAACe,IAAI,CAACL,GAAG,CAAC,EAAG,OAAOC,KAAK,CAACM,MAAM;IAC/C,IAAIhB,WAAW,CAACc,IAAI,CAACL,GAAG,CAAC,EAAG,OAAOC,KAAK,CAACO,MAAM;IAC/C,IAAIhB,YAAY,CAACa,IAAI,CAACL,GAAG,CAAC,EAAE,OAAOC,KAAK,CAACQ,OAAO;IAChD,IAAIhB,QAAQ,CAACY,IAAI,CAACL,GAAG,CAAC,EAAM,OAAOC,KAAK,CAACS,GAAG;IAC5C,IAAIhB,WAAW,CAACW,IAAI,CAACL,GAAG,CAAC,EAAG,OAAOC,KAAK,CAACU,MAAM;IAC/C,IAAIb,UAAU,CAACO,IAAI,CAACL,GAAG,CAAC,EAAI,OAAOC,KAAK,CAACW,KAAK;IAC9C,IAAIjB,WAAW,CAACU,IAAI,CAACL,GAAG,CAAC,EAAG,OAAOC,KAAK,CAACY,KAAK;IAC9C,IAAIC,GAAG,GAAGlB,WAAW,CAACmB,IAAI,CAACf,GAAG,CAAC;IAC/B,IAAIgB,KAAK;IACT,IAAIF,GAAG,KAAK,IAAI,EAAE;MAChBE,KAAK,GAAGF,GAAG,CAAC,CAAC,CAAC,CAACG,KAAK,CAAC,SAAS,CAAC;MAC/B,IAAID,KAAK,CAACE,MAAM,KAAK,CAAC,EAAE,OAAOd,SAAS;MACxC,IAAIY,KAAK,CAACG,KAAK,CAAC3B,YAAY,CAACa,IAAI,CAACe,IAAI,CAAC5B,YAAY,CAAC,CAAC,IACjDwB,KAAK,CAACG,KAAK,CAAC9B,YAAY,CAACgB,IAAI,CAACe,IAAI,CAAC/B,YAAY,CAAC,CAAC,EAAE,OAAOY,KAAK,CAACY,KAAK;MACzE,OAAOT,SAAS;IAClB;IACAU,GAAG,GAAGjB,WAAW,CAACkB,IAAI,CAACf,GAAG,CAAC;IAC3B,IAAIc,GAAG,KAAK,IAAI,EAAE;MAChBE,KAAK,GAAGF,GAAG,CAAC,CAAC,CAAC,CAACG,KAAK,CAAC,SAAS,CAAC;MAC/B,IAAID,KAAK,CAACE,MAAM,KAAK,CAAC,EAAE,OAAOd,SAAS;MACxC,IAAIY,KAAK,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACF,KAAK,CAAC3B,YAAY,CAACa,IAAI,CAACe,IAAI,CAAC5B,YAAY,CAAC,CAAC,IAC7DwB,KAAK,CAACG,KAAK,CAAC9B,YAAY,CAACgB,IAAI,CAACe,IAAI,CAAC/B,YAAY,CAAC,CAAC,EAAE;QACrD,IAAIC,WAAW,CAACe,IAAI,CAACW,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,OAAOf,KAAK,CAACY,KAAK;MACpD;MACA,OAAOT,SAAS;IAClB;IACAJ,GAAG,GAAGA,GAAG,CAACsB,WAAW,CAAC,CAAC;IACvB,QAAQtB,GAAG;MACV,KAAK,QAAQ;MACb,KAAK,KAAK;MACV,KAAK,QAAQ;MACb,KAAK,QAAQ;MACb,KAAK,OAAO;MACZ,KAAK,QAAQ;MACb,KAAK,SAAS;MACd,KAAK,OAAO;MACZ,KAAK,MAAM;MACX,KAAK,OAAO;MACZ,KAAK,MAAM;MACX,KAAK,MAAM;MACX,KAAK,MAAM;MACX,KAAK,MAAM;MACX,KAAK,OAAO;MACZ,KAAK,QAAQ;MACb,KAAK,MAAM;MACV;MACD,KAAK,cAAc;MACnB,KAAK,eAAe;MACpB,KAAK,cAAc;MACnB,KAAK,YAAY;MACjB,KAAK,YAAY;MACjB,KAAK,iBAAiB;MACtB,KAAK,cAAc;MACnB,KAAK,YAAY;MACjB,KAAK,aAAa;MAClB,KAAK,UAAU;MACf,KAAK,WAAW;MAChB,KAAK,eAAe;MACpB,KAAK,gBAAgB;MACrB,KAAK,iBAAiB;MACtB,KAAK,qBAAqB;MAC1B,KAAK,gBAAgB;MACrB,KAAK,UAAU;MACf,KAAK,MAAM;MACX,KAAK,UAAU;MACf,KAAK,WAAW;MAChB,KAAK,kBAAkB;MACvB,KAAK,YAAY;MACjB,KAAK,iBAAiB;MACtB,KAAK,mBAAmB;MACxB,KAAK,cAAc;MACnB,KAAK,QAAQ;MACb,KAAK,aAAa;MAClB,KAAK,YAAY;QAChB,OAAOC,KAAK,CAACY,KAAK;MACnB;QACC,OAAOZ,KAAK,CAACsB,OAAO;IACtB;EACF,CAAC;AACH,CAAC;;AAGD;AACA;AACA;AACAC,OAAO,CAACC,KAAK,GAAG,UAAUC,KAAK,EAAE;EAC/B,IAAIC,MAAM,GAAG,IAAID,KAAK,CAAC,EAAE,CAAC,CAACC,MAAM;EACjC,IAAIC,QAAQ,GAAGD,MAAM,CAACC,QAAQ;EAE9B,IAAIC,GAAG,GAAGD,QAAQ,CAACE,aAAa,CAAC,KAAK,CAAC;;EAEvC;EACA;EACA;EACAD,GAAG,CAACE,KAAK,CAACC,SAAS,GAAG,KAAK;EAC3B,IAAIH,GAAG,CAACE,KAAK,CAACC,SAAS,KAAK,KAAK,EAAE9C,YAAY,CAAC,CAAC;AACnD,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}